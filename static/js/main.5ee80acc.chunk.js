(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{13:function(t,e,n){t.exports={history:"TransactionHistory_history__1pPDB",history__head:"TransactionHistory_history__head__2ilSi"}},16:function(t,e,n){t.exports={dashboard:"Dashboard_dashboard__1vg5j"}},18:function(t,e,n){t.exports=n(36)},24:function(t,e,n){},3:function(t,e,n){t.exports={controls:"Controls_controls__Ksdeh",controls__input:"Controls_controls__input__2gczE",controls__button:"Controls_controls__button__1K-5c"}},36:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(2),c=n.n(r),s=(n(23),n(24),n(17)),l=n(7),i=n(8),u=n(10),m=n(9),p=n(11),h=n(15),_=n.n(h),b=n(16),d=n.n(b),f=n(3),E=n.n(f),y=n(12);n(33);y.a.configure();var g={position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},v="\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",D="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",O={notEnoughAmount:function(){return y.a.error(v,g)},enterCorrectAmount:function(){return y.a.error(D,g)}},x={DEPOSIT:"Deposit",WITHDROWAL:"Withdrawal"},T=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(o)))).state={amount:""},n.handleInputChange=function(t){n.setState({amount:Number(t.currentTarget.value)})},n.validInput=function(t){t.preventDefault(),n.setState({amount:""}),n.state.amount<=0?O.enterCorrectAmount():n.state.amount>n.props.onBalance&&"Withdraw"===t.currentTarget.name?O.notEnoughAmount():"Deposit"!==t.currentTarget.name?n.props.onWithdraw(n.state.amount,x.WITHDROWAL):n.props.onDeposit(n.state.amount,x.DEPOSIT)},n}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this.state.amount;return o.a.createElement("section",{className:E.a.controls},o.a.createElement("input",{type:"number",name:"amount",className:E.a.controls__input,value:t,onChange:this.handleInputChange}),o.a.createElement("button",{type:"button",name:"Deposit",className:E.a.controls__button,onClick:this.validInput},"Deposit"),o.a.createElement("button",{type:"button",name:"Withdraw",className:E.a.controls__button,onClick:this.validInput},"Withdraw"))}}]),e}(a.Component),w=n(5),C=n.n(w),N=function(t){var e=t.income,n=t.expenses,a=t.balance;return o.a.createElement("section",{className:C.a.balance},o.a.createElement("span",{className:C.a.balance__txt},"\ufe0f",e.toFixed(2),"$"),o.a.createElement("span",{className:C.a.balance__txt},n.toFixed(2),"$"),o.a.createElement("span",{className:C.a.balance__txt},"Balance: ",a.toFixed(2),"$"))},j=n(13),A=n.n(j),I=function(t){var e=t.items;return o.a.createElement("table",{className:A.a.history},o.a.createElement("thead",{className:A.a.history__head},o.a.createElement("tr",null,o.a.createElement("th",null,"Transaction"),o.a.createElement("th",null,"Amount"),o.a.createElement("th",null,"Date"))),o.a.createElement("tbody",null,e.map((function(t){var e=t.id,n=t.type,a=t.amount,r=t.date;return o.a.createElement("tr",{key:e},o.a.createElement("td",null,n),o.a.createElement("td",null,a.toFixed(2),"$"),o.a.createElement("td",null,r))}))))},S=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.log(n)}},W=function(t){try{var e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(n){console.log("error")}return null},k=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(o)))).state={transactions:[],balance:0},n.createTransaction=function(t,e){var a={id:_.a.generate(),type:e,amount:t,date:(new Date).toLocaleString()};n.setState((function(e){return{transactions:[].concat(Object(s.a)(e.transactions),[a]),balance:"Deposit"===a.type?e.balance+t:e.balance-t}}))},n.transactionAmount=function(t){return n.state.transactions.filter((function(e){return e.type===t})).reduce((function(t,e){return t+e.amount}),0)},n}return Object(p.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=W("Transactions");t&&this.setState({transactions:t.transactions,balance:t.balance})}},{key:"componentDidUpdate",value:function(t){var e=this.state,n=e.transactions,a=e.balance;t.transactions!==n&&S("Transactions",{transactions:n,balance:a})}},{key:"render",value:function(){var t=this.state,e=t.balance,n=t.transactions;return o.a.createElement("div",{className:d.a.dashboard},o.a.createElement(T,{onDeposit:this.createTransaction,onWithdraw:this.createTransaction,onBalance:e}),o.a.createElement(N,{income:this.transactionAmount("Deposit"),expenses:this.transactionAmount("Withdrawal"),balance:e}),o.a.createElement(I,{items:n}))}}]),e}(a.Component),B=function(){return o.a.createElement(k,null)};c.a.render(o.a.createElement(B,null),document.getElementById("root"))},5:function(t,e,n){t.exports={balance:"Balance_balance__1dVnM",balance__txt:"Balance_balance__txt__zp260"}}},[[18,1,2]]]);
//# sourceMappingURL=main.5ee80acc.chunk.js.map